<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>stranger weirds methods • stranger</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="stranger weirds methods">
<meta property="og:description" content="stranger">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stranger</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/stranger_for_the_impatient.html">stranger for the impatient</a>
    </li>
    <li>
      <a href="../articles/stranger_weirds_methods.html">stranger weirds methods</a>
    </li>
    <li>
      <a href="../articles/working_with_weirds.html">working with weirds</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>stranger weirds methods</h1>
                        <h4 data-toc-skip class="author">WeLoveDataScience</h4>
            
            <h4 data-toc-skip class="date">2022-10-08</h4>
      
      
      <div class="hidden name"><code>stranger_weirds_methods.Rmd</code></div>

    </div>

    
    
<p>In this vignette, we introduce every method available in
<code>stranger</code> package. Note that methods may require extra
packages.</p>
<p>We will work with iris dataframe and use <code>lucky_odd</code>
function.</p>
<p>The list of cuttently available wrappers / weirds methods is listed
below (one can use <code>weirds_list</code> function to obtain
them).</p>
<table class="table">
<colgroup>
<col width="30%">
<col width="8%">
<col width="8%">
<col width="10%">
<col width="8%">
<col width="32%">
</colgroup>
<thead><tr class="header">
<th align="left">weird_method</th>
<th align="left">name</th>
<th align="left">package</th>
<th align="left">package.source</th>
<th align="left">foo</th>
<th align="left">detail</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Angle-based Outlier Factor</td>
<td align="left">abod</td>
<td align="left">abodOutlier</td>
<td align="left">CRAN</td>
<td align="left">abod</td>
<td align="left">Numeric value (outlier factor)</td>
</tr>
<tr class="even">
<td align="left">autoencode</td>
<td align="left">autoencode</td>
<td align="left">autoencoder</td>
<td align="left">CRAN</td>
<td align="left">autoencode</td>
<td align="left">Positive numeric value (probability)</td>
</tr>
<tr class="odd">
<td align="left">isolation Forest</td>
<td align="left">isofor</td>
<td align="left">isofor</td>
<td align="left">github</td>
<td align="left">iForest</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">kmeans ()</td>
<td align="left">kmeans</td>
<td align="left">stats</td>
<td align="left">rbase</td>
<td align="left">kmeans</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="odd">
<td align="left">k-Nearest Neighbour</td>
<td align="left">knn</td>
<td align="left">FNN</td>
<td align="left">CRAN</td>
<td align="left">knn.dist</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">Local Outlier Factor</td>
<td align="left">lof</td>
<td align="left">dbscan</td>
<td align="left">CRAN</td>
<td align="left">lof</td>
<td align="left">Positive numeric value (local outlier factors)</td>
</tr>
<tr class="odd">
<td align="left">Mahalanobis distance</td>
<td align="left">mahalanobis</td>
<td align="left">stats</td>
<td align="left">rbase</td>
<td align="left">mahalanobis</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">Semi-robust principal components &gt; distances</td>
<td align="left">pcout</td>
<td align="left">mvoutlier</td>
<td align="left">CRAN</td>
<td align="left">pcout</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="odd">
<td align="left">randomforest outlier metric</td>
<td align="left">randomforest</td>
<td align="left">randomForest</td>
<td align="left">CRAN</td>
<td align="left">randomForest</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
</tbody>
</table>
<p>Following some helper function is introduced to simplify code
apparing in each chunk.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anoplot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>,<span class="va">title</span><span class="op">=</span><span class="cn">NULL</span><span class="op">)</span><span class="op">{</span> </span>
<span>  <span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Sepal.Length</span>,y<span class="op">=</span><span class="va">Sepal.Width</span>,color<span class="op">=</span><span class="va">Species</span>,size<span class="op">=</span><span class="va">flag_anomaly</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html" class="external-link">scale_size_discrete</a></span><span class="op">(</span>range<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span></code></pre></div>
<div class="section level2">
<h2 id="abod">abod<a class="anchor" aria-label="anchor" href="#abod"></a>
</h2>
<pre><code><span><span class="co">## *** weird method Angle-based Outlier Factor</span></span>
<span><span class="co">## abod based on function abod [abodOutlier]</span></span>
<span><span class="co">## Metric: Numeric value (outlier factor) sorted in increasing order.</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"abod"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"abod - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: abodOutlier</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: cluster</span></span></code></pre>
<pre><code><span><span class="co">## Done:  10 / 150 </span></span>
<span><span class="co">## Done:  20 / 150 </span></span>
<span><span class="co">## Done:  30 / 150 </span></span>
<span><span class="co">## Done:  40 / 150 </span></span>
<span><span class="co">## Done:  50 / 150 </span></span>
<span><span class="co">## Done:  60 / 150 </span></span>
<span><span class="co">## Done:  70 / 150 </span></span>
<span><span class="co">## Done:  80 / 150 </span></span>
<span><span class="co">## Done:  90 / 150 </span></span>
<span><span class="co">## Done:  100 / 150 </span></span>
<span><span class="co">## Done:  110 / 150 </span></span>
<span><span class="co">## Done:  120 / 150 </span></span>
<span><span class="co">## Done:  130 / 150 </span></span>
<span><span class="co">## Done:  140 / 150 </span></span>
<span><span class="co">## Done:  150 / 150</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
<p>Default values for <code>abod</code> parameters:</p>
<ul>
<li>k=10</li>
<li>… additional parameters to be passed to <code>abod</code>
(<code>method</code> and <code>n_sample_size</code> - see
<code>?abod</code>.</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on
<em>k</em>.</p>
<p><strong>NOTE</strong>: this method is not recommended for volumetric
data.</p>
From <code>abod</code> help:

<p>Details</p>
<p>Please note that ‘knn’ has to compute an euclidean distance matrix
before computing abof.</p>
<p>Value</p>
Returns angle-based outlier factor for each observation. A small abof
respect the others would indicate presence of an outlier.

</div>
<div class="section level2">
<h2 id="autoencode">autoencode<a class="anchor" aria-label="anchor" href="#autoencode"></a>
</h2>
<pre><code><span><span class="co">## *** weird method autoencode</span></span>
<span><span class="co">## autoencode based on function autoencode [autoencoder]</span></span>
<span><span class="co">## Metric: Positive numeric value (probability) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"autoencode"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"autoencode - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: autoencoder</span></span></code></pre>
<pre><code><span><span class="co">## autoencoding...</span></span>
<span><span class="co">## Optimizer counts:</span></span>
<span><span class="co">## function gradient </span></span>
<span><span class="co">##      182       46 </span></span>
<span><span class="co">## Optimizer: successful convergence.</span></span>
<span><span class="co">## Optimizer: convergence = 0, message = </span></span>
<span><span class="co">## J.init = 41.81867, J.final = 0.3667237, mean(rho.hat.final) = 0.001268951</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>Changing some parameters:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"autoencode"</span>,nl<span class="op">=</span><span class="fl">4</span>, N.hidden<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">8</span><span class="op">)</span>,beta<span class="op">=</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"autoencode - change network layers strucure"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## autoencoding...</span></span>
<span><span class="co">## Optimizer counts:</span></span>
<span><span class="co">## function gradient </span></span>
<span><span class="co">##       27        3 </span></span>
<span><span class="co">## Optimizer: successful convergence.</span></span>
<span><span class="co">## Optimizer: convergence = 0, message = </span></span>
<span><span class="co">## J.init = 41.8159, J.final = 1.626769, mean(rho.hat.final) = 1.75171e-12</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
<p>Default values for <code>autoencode</code> parameters:</p>
<ul>
<li>nl=3</li>
<li>N.hidden=10</li>
<li>unit.type=“tanh”</li>
<li>lambda=0.0002</li>
<li>beta=6</li>
<li>rho=0.001</li>
<li>epsilon=0.0001</li>
<li>optim.method=“BFGS”</li>
<li>max.iterations=100</li>
<li>rescale.flag=TRUE</li>
<li>…: user may pass other parameters to <code>autoencode</code>
(rescaling.offset).</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on <em>nl</em>
and <em>n.hidden</em>.</p>
From <code>autoencode</code> package:

An autoencoder neural network is an unsupervised learning algorithm that
applies backpropagation to adjust its weights, attempting to learn to
make its target values (outputs) to be equal to its inputs. In other
words, it is trying to learn an approximation to the identity function,
so as its output is similar to its input, for all training examples.
With the sparsity constraint enforced (requiring that the average, over
training set, activation of hidden units be small), such autoencoder
automatically learns useful features of the unlabeled training data,
which can be used for, e.g., data compression (with losses), or as
features in deep belief networks.

<p>Usage here is to learn an autoencoder then apply it to same data and
look at high residuals.</p>
</div>
<div class="section level2">
<h2 id="isofor">isofor<a class="anchor" aria-label="anchor" href="#isofor"></a>
</h2>
<pre><code><span><span class="co">## *** weird method isolation Forest</span></span>
<span><span class="co">## isofor based on function iForest [isofor]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"isofor"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"isofor - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: isofor</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<p>Default values for <code>abod</code> parameters – see
<code>?iForest</code>:</p>
<ul>
<li>nt=100</li>
<li>phi=min(nrow(data)-1,256)</li>
<li>seed=1234</li>
<li>multicore=FALSE</li>
<li>replace_missing=TRUE</li>
<li>sentinel=-9999999999</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on <em>nt</em>
and <em>phi</em>.</p>
<p><strong>NOTE</strong>: this method is not recommended for volumetric
data.</p>
From <code>iForest</code> help:

<p>An Isolation Forest is an unsupervised anomaly detection algorithm.
The requested number of trees, <code>nt</code>, are built completely at
random on a subsample of size <code>phi</code>. At each node a random
variable is selected. A random split is chosen from the range of that
variable. A random sample of factor levels are chosen in the case the
variable is a factor.</p>
Records from <code>X</code> are then filtered based on the split
criterion and the tree building begins again on the left and right
subsets of the data. Tree building terminates when the maximum depth of
the tree is reached or there are 1 or fewer observations in the filtered
subset.

</div>
<div class="section level2">
<h2 id="kmeans">kmeans<a class="anchor" aria-label="anchor" href="#kmeans"></a>
</h2>
<pre><code><span><span class="co">## *** weird method kmeans ()</span></span>
<span><span class="co">## kmeans based on function kmeans [stats]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"kmeans"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"kmeans - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
<p>Default values for <code>kmeans</code> parameters – see
<code><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">?kmeans</a></code>:</p>
<ul>
<li>type=“means”</li>
<li>centers=4</li>
<li>algorithm=“Hartigan-Wong”</li>
<li>iter.max=10</li>
<li>nstart= <em>centers</em> parameter (4)</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on <em>type</em>
and <em>centers</em>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"kmeans"</span>,type<span class="op">=</span><span class="st">"euclidian"</span>,centers<span class="op">=</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"kmeans - euclidean - nclusters (centers)=8"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"knn"</span>,simplify<span class="op">=</span><span class="st">"median"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"knn - k=default (10), simplify=median"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: FNN</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-13-2.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="knn">knn<a class="anchor" aria-label="anchor" href="#knn"></a>
</h2>
<pre><code><span><span class="co">## *** weird method k-Nearest Neighbour</span></span>
<span><span class="co">## knn based on function knn.dist [FNN]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"knn"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"knn - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-15-1.png" width="100%"></p>
<p>Default values for <code>knn</code> parameters – see
<code>?knn</code>:</p>
<ul>
<li>k=10</li>
<li>… other parameters to be passed to <code>knn</code> (prob,
algorihtm)</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:</p>
<ul>
<li>simplify=“mean”: name of a function to be used to aggregate neirest
neighbours distances. User may use other existing base funcions (for
instance <code>median</code>) but can also use his own function – name
to be supplied as string.</li>
</ul>
<p>Default naming convention for generated metric based on <em>k</em>
and <em>simplify</em>.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"knn"</span>,k<span class="op">=</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"knn - k=8"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"knn"</span>,simplify<span class="op">=</span><span class="st">"median"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"knn - k=default (10), simplify=median"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-16-2.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="lof">lof<a class="anchor" aria-label="anchor" href="#lof"></a>
</h2>
<pre><code><span><span class="co">## *** weird method Local Outlier Factor</span></span>
<span><span class="co">## lof based on function lof [dbscan]</span></span>
<span><span class="co">## Metric: Positive numeric value (local outlier factors) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"lof"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"lof - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: dbscan</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-18-1.png" width="100%"></p>
<p>Default values for <code>lof</code> parameters – see
<code>?lof</code>:</p>
<ul>
<li>minPts=5</li>
<li>… other parameters to be passed to <code>kNN</code> from
<code>dbscan</code> package (search, bucketSize…).</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on
<em>minPts</em>.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"lof"</span>,minPts<span class="op">=</span><span class="fl">5</span>, search<span class="op">=</span><span class="st">"linear"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"lof - minPts=8 - linear kNN"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-19-1.png" width="100%">
From <code>lof</code> help:</p>

LOF compares the local density of an point to the local densities of its
neighbors. Points that have a substantially lower density than their
neighbors are considered outliers. A LOF score of approximately 1
indicates that density around the point is comparable to its neighbors.
Scores significantly larger than 1 indicate outliers.

</div>
<div class="section level2">
<h2 id="mahalanobis">mahalanobis<a class="anchor" aria-label="anchor" href="#mahalanobis"></a>
</h2>
<pre><code><span><span class="co">## *** weird method Mahalanobis distance</span></span>
<span><span class="co">## mahalanobis based on function mahalanobis [stats]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"mahalanobis"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"mahalanobis - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-21-1.png" width="100%">
No parameter available.</p>
<p>Default naming convention: mahalanobis.</p>
</div>
<div class="section level2">
<h2 id="pcout">pcout<a class="anchor" aria-label="anchor" href="#pcout"></a>
</h2>
<pre><code><span><span class="co">## *** weird method Semi-robust principal components &gt; distances</span></span>
<span><span class="co">## pcout based on function pcout [mvoutlier]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"pcout"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"pcout - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: mvoutlier</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: sgeostat</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-23-1.png" width="100%"></p>
<p>Default values for <code>pcout</code> parameters – see
<code>?pcout</code>:</p>
<ul>
<li>explvar=0.99</li>
<li>crit.M1=1/3</li>
<li>crit.M2=1/4</li>
<li>crit.c2=0.99</li>
<li>crit.cs=0.25</li>
<li>outbound=0.25</li>
<li>… not used here.</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on
<em>explvar</em>.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"pcout"</span>, explvar<span class="op">=</span><span class="fl">0.8</span>, crit.Ml<span class="op">=</span><span class="fl">1</span>, crit.cl<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"pcout - custom values"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-24-1.png" width="100%">
From <code>pcout</code> help:</p>

Based on the robustly sphered data, semi-robust principal components are
computed which are needed for determining distances for each
observation. Separate weights for location and scatter outliers are
computed based on these distances. The combined weights are used for
outlier identification.

</div>
<div class="section level2">
<h2 id="randomforest">randomforest<a class="anchor" aria-label="anchor" href="#randomforest"></a>
</h2>
<pre><code><span><span class="co">## *** weird method randomforest outlier metric</span></span>
<span><span class="co">## randomforest based on function randomForest [randomForest]</span></span>
<span><span class="co">## Metric: Positive numeric value (distance) sorted in decreasing order.</span></span></code></pre>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>, weird<span class="op">=</span><span class="st">"randomforest"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"randomforest - default parameters"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: randomForest</span></span></code></pre>
<pre><code><span><span class="co">## randomForest 4.7-1.1</span></span></code></pre>
<pre><code><span><span class="co">## Type rfNews() to see new features/changes/bug fixes.</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'randomForest'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:ggplot2':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     margin</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:dplyr':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     combine</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-26-1.png" width="100%"></p>
<p>Default values for <code>randomforest</code> parameters – see
<code>?randomforest</code>:</p>
<ul>
<li>ntree=500</li>
<li>mtry=sqrt(ncol(data))</li>
<li>replace=TRUE</li>
<li>… other parameters to be used in <code>randomForest</code>
</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:
none.</p>
<p>Default naming convention for generated metric based on
<em>ntree</em> and <em>mtry</em>.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/lucky_odds.html">lucky_odds</a></span><span class="op">(</span>n.anom<span class="op">=</span><span class="fl">6</span>, analysis.drop<span class="op">=</span><span class="st">"Species"</span>,weird<span class="op">=</span><span class="st">"randomforest"</span>, explvar<span class="op">=</span><span class="fl">0.8</span>, ntree<span class="op">=</span><span class="fl">10</span>,mtry<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">anoplot</span><span class="op">(</span>title<span class="op">=</span><span class="st">"randomforest - custom values"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Using size for a discrete variable is not advised.</span></span></code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-27-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="to-go-further">To go further<a class="anchor" aria-label="anchor" href="#to-go-further"></a>
</h2>
<p>Logical next step is to look at how to work with <em>weirds</em>
methods: manipulate, work with metrics (aggregation and stacking),
derive anomalies. For this, read vignette <a href="./articles/working_with_weirds.html">Working with weirds</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Eric Lecoutre, Sven Wauters.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
