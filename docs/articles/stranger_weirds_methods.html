<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>stranger weirds methods • stranger</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">stranger</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/stranger_for_the_impatient.html">stranger for the impatient</a>
    </li>
    <li>
      <a href="../articles/stranger_weirds_methods.html">stranger weirds methods</a>
    </li>
    <li>
      <a href="../articles/working_with_weirds.html">working with weirds</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>stranger weirds methods</h1>
                        <h4 class="author">WeLoveDataScience</h4>
            
            <h4 class="date">2017-12-21</h4>
          </div>

    
    
<div class="contents">
<p>In this vignette, we introduce every method available in <code>stranger</code> package. Note that methods may require extra packages.</p>
<p>We will work with iris dataframe and use <code>lucky_odd</code> function.</p>
<p>The list of cuttently available wrappers / weirds methods is listed below (one can use <code>weirds_list</code> function to obtain them).</p>
<table class="table">
<thead><tr class="header">
<th align="left">weird_method</th>
<th align="left">name</th>
<th align="left">package</th>
<th align="left">package.source</th>
<th align="left">foo</th>
<th align="left">detail</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Angle-based Outlier Factor</td>
<td align="left">abod</td>
<td align="left">abodOutlier</td>
<td align="left">CRAN</td>
<td align="left">abod</td>
<td align="left">Numeric value (outlier factor)</td>
</tr>
<tr class="even">
<td align="left">autoencode</td>
<td align="left">autoencode</td>
<td align="left">autoencoder</td>
<td align="left">CRAN</td>
<td align="left">autoencode</td>
<td align="left">Positive numeric value (probability)</td>
</tr>
<tr class="odd">
<td align="left">isolation Forest</td>
<td align="left">isofor</td>
<td align="left">isofor</td>
<td align="left">github</td>
<td align="left">iForest</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">kmeans ()</td>
<td align="left">kmeans</td>
<td align="left">stats</td>
<td align="left">CRAN</td>
<td align="left">kmeans</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="odd">
<td align="left">k-Nearest Neighbour</td>
<td align="left">knn</td>
<td align="left">FNN</td>
<td align="left">CRAN</td>
<td align="left">knn.dist</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">Local Outlier Factor</td>
<td align="left">lof</td>
<td align="left">dbscan</td>
<td align="left">CRAN</td>
<td align="left">lof</td>
<td align="left">Positive numeric value (local outlier factors)</td>
</tr>
<tr class="odd">
<td align="left">Mahalanobis distance</td>
<td align="left">mahalanobis</td>
<td align="left">stats</td>
<td align="left">CRAN</td>
<td align="left">mahalanobis</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="even">
<td align="left">Semi-robust principal components &gt; distances</td>
<td align="left">pcout</td>
<td align="left">mvoutlier</td>
<td align="left">CRAN</td>
<td align="left">pcout</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
<tr class="odd">
<td align="left">randomforest outlier metric</td>
<td align="left">randomforest</td>
<td align="left">randomForest</td>
<td align="left">CRAN</td>
<td align="left">randomForest</td>
<td align="left">Positive numeric value (distance)</td>
</tr>
</tbody>
</table>
<p>Following some helper function is introduced to simplify code apparing in each chunk.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">anoplot &lt;-<span class="st"> </span><span class="cf">function</span>(data,<span class="dt">title=</span><span class="ot">NULL</span>){ 
  g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x=</span>Sepal.Length,<span class="dt">y=</span>Sepal.Width,<span class="dt">color=</span>Species,<span class="dt">size=</span>flag_anomaly))<span class="op">+</span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">scale_size_discrete</span>(<span class="dt">range=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))
  <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(title)) g &lt;-<span class="st"> </span>g<span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(title)
  <span class="kw">return</span>(g)
  }</code></pre></div>
<div id="abod" class="section level2">
<h2 class="hasAnchor">
<a href="#abod" class="anchor"></a>abod</h2>
<pre><code>## *** weird method Angle-based Outlier Factor
## abod based on function abod [abodOutlier]
## Metric: Numeric value (outlier factor) sorted in increasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"abod"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"abod - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: abodOutlier</code></pre>
<pre><code>## Loading required package: cluster</code></pre>
<pre><code>## Done:  10 / 150 
## Done:  20 / 150 
## Done:  30 / 150 
## Done:  40 / 150 
## Done:  50 / 150 
## Done:  60 / 150 
## Done:  70 / 150 
## Done:  80 / 150 
## Done:  90 / 150 
## Done:  100 / 150 
## Done:  110 / 150 
## Done:  120 / 150 
## Done:  130 / 150 
## Done:  140 / 150 
## Done:  150 / 150</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
<p>Default values for <code>abod</code> parameters:</p>
<ul>
<li>k=10</li>
<li>… additional parameters to be passed to <code>abod</code> (<code>method</code> and <code>n_sample_size</code> - see <code>?abod</code>.</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>k</em>.</p>
<p><strong>NOTE</strong>: this method is not recommended for volumetric data.</p>
From <code>abod</code> help:

<p>Details</p>
<p>Please note that ‘knn’ has to compute an euclidean distance matrix before computing abof.</p>
<p>Value</p>
Returns angle-based outlier factor for each observation. A small abof respect the others would indicate presence of an outlier.

</div>
<div id="autoencode" class="section level2">
<h2 class="hasAnchor">
<a href="#autoencode" class="anchor"></a>autoencode</h2>
<pre><code>## *** weird method autoencode
## autoencode based on function autoencode [autoencoder]
## Metric: Positive numeric value (probability) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"autoencode"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"autoencode - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: autoencoder</code></pre>
<pre><code>## autoencoding...
## Optimizer counts:
## function gradient 
##      127       32 
## Optimizer: successful convergence.
## Optimizer: convergence = 0, message = 
## J.init = 41.81871, J.final = 0.3683745, mean(rho.hat.final) = 0.001229368</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>Changing some parameters:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"autoencode"</span>,<span class="dt">nl=</span><span class="dv">4</span>, <span class="dt">N.hidden=</span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">8</span>),<span class="dt">beta=</span><span class="dv">6</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"autoencode - change network layers strucure"</span>)</code></pre></div>
<pre><code>## autoencoding...
## Optimizer counts:
## function gradient 
##       27        3 
## Optimizer: successful convergence.
## Optimizer: convergence = 0, message = 
## J.init = 41.81598, J.final = 1.626553, mean(rho.hat.final) = 1.75727e-12</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
<p>Default values for <code>autoencode</code> parameters:</p>
<ul>
<li>nl=3</li>
<li>N.hidden=10</li>
<li>unit.type=“tanh”</li>
<li>lambda=0.0002</li>
<li>beta=6</li>
<li>rho=0.001</li>
<li>epsilon=0.0001</li>
<li>optim.method=“BFGS”</li>
<li>max.iterations=100</li>
<li>rescale.flag=TRUE</li>
<li>…: user may pass other parameters to <code>autoencode</code> (rescaling.offset).</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>nl</em> and <em>n.hidden</em>.</p>
From <code>autoencode</code> package:

An autoencoder neural network is an unsupervised learning algorithm that applies backpropagation to adjust its weights, attempting to learn to make its target values (outputs) to be equal to its inputs. In other words, it is trying to learn an approximation to the identity function, so as its output is similar to its input, for all training examples. With the sparsity constraint enforced (requiring that the average, over training set, activation of hidden units be small), such autoencoder automatically learns useful features of the unlabeled training data, which can be used for, e.g., data compression (with losses), or as features in deep belief networks.

<p>Usage here is to learn an autoencoder then apply it to same data and look at high residuals.</p>
</div>
<div id="isofor" class="section level2">
<h2 class="hasAnchor">
<a href="#isofor" class="anchor"></a>isofor</h2>
<pre><code>## *** weird method isolation Forest
## isofor based on function iForest [isofor]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"isofor"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"isofor - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: isofor</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<p>Default values for <code>abod</code> parameters – see <code>?iForest</code>:</p>
<ul>
<li>nt=100</li>
<li>phi=min(nrow(data)-1,256)</li>
<li>seed=1234</li>
<li>multicore=FALSE</li>
<li>replace_missing=TRUE</li>
<li>sentinel=-9999999999</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>nt</em> and <em>phi</em>.</p>
<p><strong>NOTE</strong>: this method is not recommended for volumetric data.</p>
From <code>iForest</code> help:

<p>An Isolation Forest is an unsupervised anomaly detection algorithm. The requested number of trees, <code>nt</code>, are built completely at random on a subsample of size <code>phi</code>. At each node a random variable is selected. A random split is chosen from the range of that variable. A random sample of factor levels are chosen in the case the variable is a factor.</p>
Records from <code>X</code> are then filtered based on the split criterion and the tree building begins again on the left and right subsets of the data. Tree building terminates when the maximum depth of the tree is reached or there are 1 or fewer observations in the filtered subset.

</div>
<div id="kmeans" class="section level2">
<h2 class="hasAnchor">
<a href="#kmeans" class="anchor"></a>kmeans</h2>
<pre><code>## *** weird method kmeans ()
## kmeans based on function kmeans [stats]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"kmeans"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"kmeans - default parameters"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
<p>Default values for <code>kmeans</code> parameters – see <code>?kmeans</code>:</p>
<ul>
<li>type=“means”</li>
<li>centers=4</li>
<li>algorithm=“Hartigan-Wong”</li>
<li>iter.max=10</li>
<li>nstart= <em>centers</em> parameter (4)</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>type</em> and <em>centers</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"kmeans"</span>,<span class="dt">type=</span><span class="st">"euclidian"</span>,<span class="dt">centers=</span><span class="dv">8</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"kmeans - euclidean - nclusters (centers)=8"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"knn"</span>,<span class="dt">simplify=</span><span class="st">"median"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"knn - k=default (10), simplify=median"</span>)</code></pre></div>
<pre><code>## Loading required package: FNN</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-13-2.png" width="100%"></p>
</div>
<div id="knn" class="section level2">
<h2 class="hasAnchor">
<a href="#knn" class="anchor"></a>knn</h2>
<pre><code>## *** weird method k-Nearest Neighbour
## knn based on function knn.dist [FNN]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"knn"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"knn - default parameters"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-15-1.png" width="100%"></p>
<p>Default values for <code>knn</code> parameters – see <code>?knn</code>:</p>
<ul>
<li>k=10</li>
<li>… other parameters to be passed to <code>knn</code> (prob, algorihtm)</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird:</p>
<ul>
<li>simplify=“mean”: name of a function to be used to aggregate neirest neighbours distances. User may use other existing base funcions (for instance <code>median</code>) but can also use his own function – name to be supplied as string.</li>
</ul>
<p>Default naming convention for generated metric based on <em>k</em> and <em>simplify</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"knn"</span>,<span class="dt">k=</span><span class="dv">8</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"knn - k=8"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"knn"</span>,<span class="dt">simplify=</span><span class="st">"median"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"knn - k=default (10), simplify=median"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-16-2.png" width="100%"></p>
</div>
<div id="lof" class="section level2">
<h2 class="hasAnchor">
<a href="#lof" class="anchor"></a>lof</h2>
<pre><code>## *** weird method Local Outlier Factor
## lof based on function lof [dbscan]
## Metric: Positive numeric value (local outlier factors) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"lof"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"lof - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: dbscan</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-18-1.png" width="100%"></p>
<p>Default values for <code>lof</code> parameters – see <code>?lof</code>:</p>
<ul>
<li>k=10</li>
<li>… other parameters to be passed to <code>kNN</code> from <code>dbscan</code> package (search, bucketSize…).</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>k</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"lof"</span>,<span class="dt">k=</span><span class="dv">8</span>, <span class="dt">search=</span><span class="st">"linear"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"lof - k=8 - linear kNN"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-19-1.png" width="100%"> From <code>lof</code> help:</p>

LOF compares the local density of an point to the local densities of its neighbors. Points that have a substantially lower density than their neighbors are considered outliers. A LOF score of approximately 1 indicates that density around the point is comparable to its neighbors. Scores significantly larger than 1 indicate outliers.

</div>
<div id="mahalanobis" class="section level2">
<h2 class="hasAnchor">
<a href="#mahalanobis" class="anchor"></a>mahalanobis</h2>
<pre><code>## *** weird method Mahalanobis distance
## mahalanobis based on function mahalanobis [stats]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"mahalanobis"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"mahalanobis - default parameters"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-21-1.png" width="100%"> No parameter available.</p>
<p>Default naming convention: mahalanobis.</p>
</div>
<div id="pcout" class="section level2">
<h2 class="hasAnchor">
<a href="#pcout" class="anchor"></a>pcout</h2>
<pre><code>## *** weird method Semi-robust principal components &gt; distances
## pcout based on function pcout [mvoutlier]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"pcout"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"pcout - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: mvoutlier</code></pre>
<pre><code>## Warning: package 'mvoutlier' was built under R version 3.4.3</code></pre>
<pre><code>## Loading required package: sgeostat</code></pre>
<pre><code>## sROC 0.1-2 loaded</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-23-1.png" width="100%"></p>
<p>Default values for <code>pcout</code> parameters – see <code>?pcout</code>:</p>
<ul>
<li>explvar=0.99</li>
<li>crit.M1=1/3</li>
<li>crit.M2=1/4</li>
<li>crit.c2=0.99</li>
<li>crit.cs=0.25</li>
<li>outbound=0.25</li>
<li>… not used here.</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>explvar</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"pcout"</span>, <span class="dt">explvar=</span><span class="fl">0.8</span>, <span class="dt">crit.Ml=</span><span class="dv">1</span>, <span class="dt">crit.cl=</span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"pcout - custom values"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-24-1.png" width="100%"> From <code>pcout</code> help:</p>

Based on the robustly sphered data, semi-robust principal components are computed which are needed for determining distances for each observation. Separate weights for location and scatter outliers are computed based on these distances. The combined weights are used for outlier identification.

</div>
<div id="randomforest" class="section level2">
<h2 class="hasAnchor">
<a href="#randomforest" class="anchor"></a>randomforest</h2>
<pre><code>## *** weird method randomforest outlier metric
## randomforest based on function randomForest [randomForest]
## Metric: Positive numeric value (distance) sorted in decreasing order.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>, <span class="dt">weird=</span><span class="st">"randomforest"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"randomforest - default parameters"</span>)</code></pre></div>
<pre><code>## Loading required package: randomForest</code></pre>
<pre><code>## Warning: package 'randomForest' was built under R version 3.4.3</code></pre>
<pre><code>## randomForest 4.6-12</code></pre>
<pre><code>## Type rfNews() to see new features/changes/bug fixes.</code></pre>
<pre><code>## 
## Attaching package: 'randomForest'</code></pre>
<pre><code>## The following object is masked from 'package:ggplot2':
## 
##     margin</code></pre>
<pre><code>## The following object is masked from 'package:dplyr':
## 
##     combine</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-26-1.png" width="100%"></p>
<p>Default values for <code>randomforest</code> parameters – see <code>?randomforest</code>:</p>
<ul>
<li>ntree=500</li>
<li>mtry=sqrt(ncol(data))</li>
<li>replace=TRUE</li>
<li>… other parameters to be used in <code>randomForest</code>
</li>
</ul>
<p>Extra parameters used in <code>stranger</code> for this weird: none.</p>
<p>Default naming convention for generated metric based on <em>ntree</em> and <em>mtry</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/lucky_odds.html">lucky_odds</a></span>(<span class="dt">n.anom=</span><span class="dv">6</span>, <span class="dt">analysis.drop=</span><span class="st">"Species"</span>,<span class="dt">weird=</span><span class="st">"randomforest"</span>, <span class="dt">explvar=</span><span class="fl">0.8</span>, <span class="dt">ntree=</span><span class="dv">10</span>,<span class="dt">mtry=</span><span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">anoplot</span>(<span class="dt">title=</span><span class="st">"randomforest - custom values"</span>)</code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="stranger_weirds_methods_files/figure-html/unnamed-chunk-27-1.png" width="100%"></p>
</div>
<div id="to-go-further" class="section level2">
<h2 class="hasAnchor">
<a href="#to-go-further" class="anchor"></a>To go further</h2>
<p>Logical next step is to look at how to work with <em>weirds</em> methods: manipulate, work with metrics (aggregation and stacking), derive anomalies. For this, read vignette <a href="./articles/working_with_weirds.html">Working with weirds</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#abod">abod</a></li>
      <li><a href="#autoencode">autoencode</a></li>
      <li><a href="#isofor">isofor</a></li>
      <li><a href="#kmeans">kmeans</a></li>
      <li><a href="#knn">knn</a></li>
      <li><a href="#lof">lof</a></li>
      <li><a href="#mahalanobis">mahalanobis</a></li>
      <li><a href="#pcout">pcout</a></li>
      <li><a href="#randomforest">randomforest</a></li>
      <li><a href="#to-go-further">To go further</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Eric Lecoutre, Sven Wauters.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
