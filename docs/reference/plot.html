<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Data visualizations of anomaly score locally around a specific data point — plot.stranger â€¢ stranger</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">stranger</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/stranger_for_the_impatient.html">stranger for the impatient</a>
    </li>
    <li>
      <a href="../articles/stranger_weirds_methods.html">stranger weirds methods</a>
    </li>
    <li>
      <a href="../articles/working_with_weirds.html">working with weirds</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/welovedatascience/stranger">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data visualizations of anomaly score locally around a specific data point</h1>
    </div>

    
    <p>Data visualizations of anomaly score locally around a specific data point</p>
    

    <pre class="usage"><span class='co'># S3 method for stranger</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"cluster"</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>".id"</span>, <span class='kw'>score</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>anomaly_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for fortifiedanomaly</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"feature_importance"</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>".id"</span>,
  <span class='kw'>anomaly_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>score</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for anomalies</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"feature_importance"</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>".id"</span>,
  <span class='kw'>anomaly_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for singular</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"cluster"</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>".id"</span>, <span class='kw'>score</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>anomaly_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>is either of class dataframe, stranger or anomaly. It contains the observations; each row represents an observation
and each variable is stored in one column. It must have at least one column with IDs and one column with the anomaly
score for each ID.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>is the name of the visualization;
(1) A hierarchical clustering, named "cluster", showing among the top n-anomaly which records belongs to the same cluster
a specific record. Finding the commun pattern amoung the cluster may lead to the orign of of the specifi record score.
(2) A dots plot, named "neighbours", showing the relationship between the anomly score and each feature for the
k nearest neighbours of a specific record.
(3) A bar chart, named "feature_importance", showing how sensitive is the anomaly score of a specific record to each of feature.
This may help to identify the features behind the score.
(4) A dots plot, names "score_decline", showing the decrease in anomaly score among the k nearest neighbours of a specific record.
The shape indicates how extrem and how frequent is the anomaly score of a speicif record amoung its neighbours.
(5) A Regression tree, named "regression_tree", showing the roots to high score around a specific record.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>is the colname with records IDs</p></td>
    </tr>
    <tr>
      <th>score</th>
      <td><p>is the colname which contains the anomaly score</p></td>
    </tr>
    <tr>
      <th>anomaly_id</th>
      <td><p>is the record ID you want to investigate</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Additional parameters to pass</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A plot</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Function that produces visualizations to understand the anomaly score locally around a specific data point.
We believe this should help people to trust scores a made by models even if they don’t fully understand them.
Today, 5 visualisazions are implemented;
(1) A hierarchical clustering, named "cluster", showing among the top n-anomaly which records belongs to the same cluster
a specific record. Finding the commun pattern amoung the cluster may lead to the orign of of the specifi record score.
(2) A dots plot, named "neighbours", showing the relationship between the anomly score and each feature for the
k nearest neighbours of a specific record.
(3) A bar chart, named "feature_importance", showing how sensitive is the anomaly score of a specific record to each of feature.
This may help to identify the features behind the score.
(4) A dots plot, names "score_decline", showing the decrease in anomaly score among the k nearest neighbours of a specific record.
The shape indicates how extrem and how frequent is the anomaly score of a speicif record amoung its neighbours.
(5) A Regression tree, named "regression_tree", showing the roots to high score around a specific record.</p>
<p>Extra parameters that can be used in &#8230;:</p><ul>
<li><p>check logical indicating if object data should be checked for validity. The default is TRUE, this check is not necessary
when data is known to be valid such as when it is the direct result of stranger().</p></li>
<li><p>keep character vector: names of columns to keep (filter)</p></li>
<li><p>drop character vector: names of columns to drop (filter)</p></li>
<li><p>n.cluster is the number of cluster groups to emphasis.
This parameter must only be specified with type ="cluster".</p></li>
<li><p>n.anom is the number of top anomalies to be considered.
This parameter must only be specified with type ="cluster".</p></li>
<li><p>k is the number of neighbours to be considered. This parameter must always be specified,
except with type = "cluster".</p></li>
<li><p>n_label specifies the number of data point to be labelled in the plot.
This parameter must only be specified with type ="scores_decline".</p></li>
</ul>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Eric Lecoutre, Sven Wauters.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
